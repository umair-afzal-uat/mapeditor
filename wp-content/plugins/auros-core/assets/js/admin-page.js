"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}();!function(t){var e=function(){function e(){var a=this;_classCallCheck(this,e),this.initTabSettings(),this.initPageLayout(),this.initFooterLayout(),t(".otf-customize-slider .otf-slider").each(function(t,e){a.initSlider(e)})}return _createClass(e,[{key:"initPageLayout",value:function(){var e=t("[otf-page-layout]");e.find("li").on("click",function(){e.find("li").removeClass("active");var a=t(this).addClass("active").find("img").attr("alt");e.prev().val(a)})}},{key:"initFooterLayout",value:function(){var e=t(".opal-control-footer");e.find(".footer-select").on("change",function(){var t=e.find("option:selected").val();e.find(".image-select-tpl").removeClass("active"),e.find(".image-select [data-value="+t+"]").addClass("active"),e.prev().val(t)})}},{key:"formatPrice",value:function(){t('[format-price="true"]',"#opaltab-customfield").each(function(e,a){t(a).val(OREAdminFunctionJs.formatPrice(Number(t(a).val().trim().replace(/[^\d]*/g,"")))),t(a).on("keyup",function(e){t(e.currentTarget).val(OREAdminFunctionJs.formatPrice(Number(e.target.value.trim().replace(/[^\d]*/g,""))))})})}},{key:"initTabSettings",value:function(){var e=[];t('#postbox-container-2 [id^="osf_page_"].postbox').each(function(t,a){e.push(a)}),this._renderTabHtml(e),this._tabAction()}},{key:"initSlider",value:function(e){var a=t(e),n=a.data("id"),i=a.data("unit")?a.data("unit"):"";a.slider({range:"min",min:a.data("min"),max:a.data("max"),step:a.data("step"),value:a.data("value"),create:function(t,e){a.children(".ui-slider-handle").html("<span>"+a.slider("value")+i+"</span>")},slide:function(e,o){a.children(".ui-slider-handle").html("<span>"+o.value+i+"</span>"),t("#"+n).val(o.value)},change:function(e,a){t(a.handle).closest(".cmb2-slider-element").find('[opal-hidden="true"]').val(a.value)}}),a.next().on("click",function(){a.slider("value",a.data("default-value"))})}},{key:"_renderTabHtml",value:function(e){var a='\n<section id="opaltab-customfield">\n    <h2 class="opaltab-heading"><span>Page Settings</span></h2>\n    <div class="opal-customfield-tabs tabs-style-bar">\n        <nav class="opal-nav">\n            <ul>',n=!0,i=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var c=r.value,s="#tab-section-"+t(c).attr("id"),u=t('label[for="'+t(c).attr("id")+'-hide"] [class*="icon-"]');u=u.length>0?'<i class="'+u.attr("class")+'"></i>':"";a+='\n                <li>\n                    <a href="'+s+'">\n                        '+u+"\n                        <span>"+t("h2",c).text()+"</span>\n                    </a>\n                </li>"}}catch(t){i=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}a+='\n            </ul>\n        </nav>\n        <div class="opal-content-wrap content-wrap">';var d=1,f=!0,v=!1,p=void 0;try{for(var h,m=e[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){var y=h.value;a+='<section id="'+("tab-section-"+t(y).attr("id"))+'"></section>',d++}}catch(t){v=!0,p=t}finally{try{!f&&m.return&&m.return()}finally{if(v)throw p}}a+="\n        </div>\n    </div>\n</section>",t("#postbox-container-2").before(a);var b=!0,g=!1,k=void 0;try{for(var w,C=e[Symbol.iterator]();!(b=(w=C.next()).done);b=!0){var S=w.value;t(">.inside",S).appendTo("#tab-section-"+t(S).attr("id")),t(S).hide()}}catch(t){g=!0,k=t}finally{try{!b&&C.return&&C.return()}finally{if(g)throw k}}}},{key:"_tabAction",value:function(){t("#opaltab-customfield .opal-nav ul li:first-child").addClass("tab-current"),t("#opaltab-customfield .opal-content-wrap > section:first-child").addClass("content-current"),t("#opaltab-customfield .opal-nav li a").on("click",function(e){e.preventDefault(),t("#opaltab-customfield .opal-nav li").removeClass("tab-current"),t(e.currentTarget).parent().addClass("tab-current");var a=t(e.currentTarget).attr("href");t("#opaltab-customfield .opal-content-wrap > section").removeClass("content-current"),t(a).addClass("content-current")})}}]),e}(),a=function(){function e(t){_classCallCheck(this,e),this.classmap=null,this.classmap=t,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;t(".opal-onoffswitch-wrapper").each(function(a,n){var i=t("input.onoffswitch-input",n),o=t(".onoffswitch-checkbox",n),r=e.getSelectorString(o);e.actionShowHide(r,o.prop("checked"),0),o.on("change",function(){e.actionShowHide(r,o.prop("checked")),o.prop("checked")?i.val("1"):i.val("0")})})}},{key:"actionShowHide",value:function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;a?t(e).stop().slideDown(n):t(e).stop().slideUp(n)}},{key:"getSelectorString",value:function(t){return"object"===_typeof(t.data("show-fields"))&&t.data("show-fields").map(function(t){return".cmb2-id-"+t.replace(/_/g,"-")}).join(",")}}]),e}();t(document).ready(function(){new e,new a})}(jQuery);
//# sourceMappingURL=admin-page.js.map
