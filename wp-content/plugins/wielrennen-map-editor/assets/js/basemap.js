/* ////////////////////////////////////////////////////////////////////////////// */
/* ///////////////////////////////////////////////////////////////// DOCUMENT /// */
/* ////////////////////////////////////////////////////////////////////////////// */

/* -------------------------------------------------------------------- READY --- */
jQuery(init);

/* --------------------------------------------------------------------- INIT --- */
function init() {
	// basemap
    basemap_init();
}

/* ////////////////////////////////////////////////////////////////////////////// */
/* ////////////////////////////////////////////////////////////////// BASEMAP /// */
/* ////////////////////////////////////////////////////////////////////////////// */

/* --------------------------------------------------------------------- INIT --- */
function basemap_init() {
    //
}

/* ------------------------------------------------------------------- RENDER --- */
function basemap_render(event) {
    // set mapbox token
    mapboxgl.accessToken = MAPBOX.token;
    
    // initalize mapbox instance
    BASEMAP = new mapboxgl.Map({
        zoom: 22,
        center: [0, 0,],
        container: jQuery('main')[0], 
        attributionControl: false,
        preserveDrawingBuffer: true,
    });
    // post message
    message_post(event.source, event.data.callback, { layer: event.data.payload.layer, });
}